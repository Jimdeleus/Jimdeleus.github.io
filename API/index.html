<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Gallery</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Background Image */
        body {
            background-image: url('https://png.pngtree.com/thumb_back/fh260/background/20230411/pngtree-racing-track-glowing-background-image_2203590.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white; /* Text color */
            perspective: 1px;
            height: 100vh;
        }

        /* Container with a semi-transparent background to improve readability */
        .container {
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
            padding: 30px;
            border-radius: 10px; /* Optional: Add rounded corners */
            position: relative;
            z-index: 10;
        }

        h1 {
            color: white; /* Set header color */
        }

        /* Car Cards with 3D hover effect */
        .car-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        .car-card:hover {
            transform: scale(1.05) rotateY(10deg);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
        }

        .car-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        /* Zoom-in effect for car images */
        .car-card:hover img {
            transform: scale(1.1);
        }

        /* Card Body */
        .card-body {
            background-color: rgba(0, 0, 0, 0.6); /* Semi-transparent background for cards */
        }

        /* Pagination styling */
        .pagination {
            justify-content: center;
        }

        /* Sticky Pagination */
        #paginationNav {
            position: sticky;
            bottom: 20px;
            z-index: 1000;
        }

        /* Ensure input field has enough contrast */
        .form-control {
            background-color: rgba(255, 255, 255, 0.7); /* Light background for input */
            color: black; /* Text color for input */
        }

        /* Fade-in animation for car cards */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .car-card {
            animation: fadeIn 0.5s ease-out;
        }

        /* Fix the car image container for last item */
        .col-md-3 {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <div class="container mt-5">
        <h1 class="text-center">Car Gallery</h1>

        <!-- Search Form -->
        <div class="mb-3">
            <input type="text" id="searchMake" class="form-control" placeholder="Search by make" oninput="filterCars()">
        </div>

        <!-- Additional Filters -->
        <div class="mb-3">
            <input type="number" id="minPrice" class="form-control" placeholder="Min Price" oninput="filterCars()">
        </div>
        <div class="mb-3">
            <input type="number" id="maxPrice" class="form-control" placeholder="Max Price" oninput="filterCars()">
        </div>

        <!-- Car List -->
        <div id="carList" class="row"></div>

        <!-- Pagination -->
        <nav id="paginationNav" class="mt-4">
            <ul class="pagination"></ul>
        </nav>
    </div>

    <!-- Modal for Car Details -->
    <div class="modal fade" id="carModal" tabindex="-1" aria-labelledby="carModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="carModalLabel">Car Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img id="modalImage" src="" class="img-fluid mb-3" alt="Car Image">
                    <h5 id="modalTitle"></h5>
                    <p id="modalDescription"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const cars = [
            { 
                id: 1, make: "Toyota", model: "Corolla", year: 2020, color: "Red", price: 20000, 
                description: "A reliable sedan with excellent fuel efficiency and a comfortable ride.", 
                image: "https://di-uploads-pod18.dealerinspire.com/walsertoyota/uploads/2019/04/2020-Corolla-XLE-Red.jpg" 
            },
            { 
                id: 2, make: "Honda", model: "Civic", year: 2021, color: "Blue", price: 22000, 
                description: "A stylish compact car with great handling and advanced technology.", 
                image: "https://file.kelleybluebookimages.com/kbb/base/evox/CP/15455/2021-Honda-Civic-front_15455_032_1984x763_BS_cropped.png" 
            },
            { 
                id: 3, make: "Ford", model: "Focus", year: 2019, color: "Brown", price: 18000, 
                description: "A versatile and practical car, perfect for everyday commuting.", 
                image: "https://blogmedia.dealerfire.com/wp-content/uploads/sites/275/2018/05/side-view-of-a-tan-Asian-2019-Ford-Focus-Sedan_o.jpg" 
            },
            { 
                id: 4, make: "Chevrolet", model: "Malibu", year: 2022, color: "Black", price: 25000, 
                description: "A spacious and comfortable sedan with modern features and technology.", 
                image: "https://inv.assets.ansira.net/ChromeColorMatch/us/TRANSPARENT_cc_2022CHC110008_01_1280_G6M.png" 
            },
            { 
                id: 5, make: "Nissan", model: "Altima", year: 2020, color: "Black", price: 23000, 
                description: "A well-rounded sedan offering comfort, efficiency, and great safety features.", 
                image: "https://di-uploads-pod25.dealerinspire.com/planetnissan/uploads/2019/09/Altima-19.png" 
            },
            { 
                id: 6, make: "Tesla", model: "Model 3", year: 2023, color: "White", price: 35000, 
                description: "An electric sedan with cutting-edge technology and impressive performance.", 
                image: "https://img.freepik.com/premium-photo/car-isolated-white-background-tesla-model-3-white-car-blank-clean-white-backgr-white-black_655090-607329.jpg" 
            },
            { 
                id: 7, make: "BMW", model: "3 Series", year: 2021, color: "White", price: 40000, 
                description: "A luxury sedan known for its dynamic driving experience and premium feel.", 
                image: "https://65e81151f52e248c552b-fe74cd567ea2f1228f846834bd67571e.ssl.cf1.rackcdn.com/ldm-images/2021-BMW-3-Series-hero.png" 
            },
            { 
                id: 8, make: "Audi", model: "A4", year: 2022, color: "Blue", price: 45000, 
                description: "A compact executive car offering superior performance and advanced features.", 
                image: "https://cars.usnews.com/static/images/Auto/izmo/i159614796/2022_audi_a4_sedan_angularfront.jpg" 
            }
        ];

        let currentPage = 1;
        const carsPerPage = 4;

        // Filter and display cars based on input
        function filterCars() {
            const searchMake = document.getElementById("searchMake").value.toLowerCase();
            const minPrice = document.getElementById("minPrice").value || 0;
            const maxPrice = document.getElementById("maxPrice").value || Number.MAX_SAFE_INTEGER;

            const filteredCars = cars.filter(car => {
                return (
                    car.make.toLowerCase().includes(searchMake) &&
                    car.price >= minPrice &&
                    car.price <= maxPrice
                );
            });

            displayCars(filteredCars);
            generatePagination(filteredCars.length);
        }

        // Display cars on the page
        function displayCars(carsToDisplay) {
            const carList = document.getElementById("carList");
            carList.innerHTML = "";

            carsToDisplay.forEach(car => {
                const discount = (car.year < 2021) ? 0.1 : 0;
                const discountedPrice = car.price - (car.price * discount);

                const carCard = document.createElement("div");
                carCard.classList.add("col-md-3");
                carCard.innerHTML = `
                    <div class="card car-card" onclick="showCarDetails(${car.id})">
                        <img src="${car.image}" class="card-img-top" alt="${car.make} ${car.model}">
                        <div class="card-body">
                            <h5 class="card-title">${car.make} ${car.model} (${car.year})</h5>
                            <p class="card-text">Color: ${car.color}</p>
                            <p class="card-text">Price: <span class="text-muted"><del>$${car.price}</del></span> $${discountedPrice.toFixed(2)}</p>
                            <p class="card-text"><strong>Description:</strong> ${car.description}</p>
                        </div>
                    </div>
                `;
                carList.appendChild(carCard);
            });
        }

        // Show car details in modal
        function showCarDetails(id) {
            const car = cars.find(c => c.id === id);
            document.getElementById("modalImage").src = car.image;
            document.getElementById("modalTitle").innerText = `${car.make} ${car.model}`;
            document.getElementById("modalDescription").innerText = car.description;

            const modal = new bootstrap.Modal(document.getElementById('carModal'));
            modal.show();
        }

        // Generate pagination
        function generatePagination(totalCars) {
            const numPages = Math.ceil(totalCars / carsPerPage);
            const pagination = document.querySelector("#paginationNav .pagination");
            pagination.innerHTML = "";

            for (let i = 1; i <= numPages; i++) {
                const pageItem = document.createElement("li");
                pageItem.classList.add("page-item");
                pageItem.innerHTML = `<a class="page-link" href="#" onclick="changePage(${i})">${i}</a>`;
                pagination.appendChild(pageItem);
            }
        }

        // Change page
        function changePage(page) {
            currentPage = page;
            const start = (currentPage - 1) * carsPerPage;
            const end = start + carsPerPage;
            displayCars(cars.slice(start, end));
            generatePagination(cars.length);

            // Smooth scroll to car list
            document.getElementById('carList').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize page
        changePage(currentPage);
    </script>
</body>
</html>
